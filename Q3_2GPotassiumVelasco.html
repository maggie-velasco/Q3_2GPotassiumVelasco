<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset = "UTF-8">
    <meta name="viewport" content="width=device-width", initial-scale="1">

    <title>DESIGNING AN HTML FORM_VELASCO</title>
    <meta name="author" content="K28">
    <link rel = "stylesheet" href = "Q3_2GPotassiumVelasco.css">
  </head>
  <body>
    <h1>CLUB APPLICATION~  êîå’û. .’ûê¶Ø</h1>
    <div class="formHAHA">
      <form method="post" onsubmit="return submitBtn()" onreset="resetBtn()">
        <br/><br/>
        <fieldset>
          <legend>Personal--</legend>
          <label>Student id: <br/><input type="number" id="sid" required></label><br/><br/>
          <label>Name: <br/><input type="text" id="name" onblur="blurBtn(this)" required></label><br/><br/>
          <label>Birthday: <br/><input type="date" id="bday" required></label><br/><br/>
          <label>Email address: <br/><input type="email" id="ead" required></label><br/>
        </fieldset>
        <br/><br/>
        <fieldset>
          <legend>Application--</legend>
          <label>Mobile Phone: <br/><input type="text" id="mobPhone" onblur="blurBtn(this)" required></label><br/><br/>
          <label>Input/Extern:</label> <br/><br/>
            <input type="radio" id="inextern" value="intern" required> Intern <br/><br/>
            <input type="radio" id="inextern" value="extern" required> Extern <br/><br/>
          <label>Preferred organization/club:</label><br/>
            <select id="club" required>
              <option>Acts</option>
              <option>Alianti</option>
              <option>Animo chess club</option>
              <option>Astrosoc</option>
              <option>Bake club</option>
              <option>Computron</option>
              <option>Exposure</option>
              <option>Flux</option>
              <option>Himig-agham</option>
              <option>Labuyo/Laab</option>
              <option>Likha</option>
              <option>Math club</option>
              <option>Sagala</option>
              <option>Sigasig</option>
              <option>Volant</option>
            </select><br/>
          <label>
            <br/><br/><div>Why do you want to join this club?</div><br/>
            <textarea rows="10%" cols="60%" id="reason" placeholder = "Type your answer here" onblur="blurBtn(this)" requried></textarea>
          </label>
        </fieldset>
        <input type="submit">
        <input type="reset">
      </form>
      <a href="viewSignUps.html"><button>View Sign-up page</button></a>
    </div>

    <script>
      function submitBtn(){
        const confirmation = confirm("Pls confirm if you want to submit this form");

        if(confirmation === true){
          let savedStuff = JSON.parse(localStorage.getItem("savedStuff"));
          //let inexternRadio = document.querySelector('input[name="inextern"]:checked');

          if(!savedStuff){
            savedStuff = [];
          }

          const inputs = {
            sid: document.getElementById("sid").value,
            name: document.getElementById("name").value,
            bday: document.getElementById("bday").value,
            ead: document.getElementById("ead").value,
            mobPhone: document.getElementById("mobPhone").value,
            inextern: document.getElementById("inextern").value,
            club: document.getElementById("club").value,
            reason: document.getElementById("reason").value 
          }
          savedStuff.push(inputs);
          localStorage.setItem("savedStuff", JSON.stringify(savedStuff)); 

          alert("Saved Successfully");
          return false;
        }
        else {
          return false;
        }
      }
      function resetBtn(){
        confirm("Pls confirm if you want to reset the whole page");
      }
      function blurBtn(inputHEH){
        event.preventDefault();
        if(inputHEH.value.trim()===""){
            inputHEH.classList.add("change");
        }
        else {
            inputHEH.classList.remove("change");
        }
      }

    </script>
  </body>
</html>
